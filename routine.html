<!DOCTYPE html>
<html lang="hi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROTOCOL: REBOOT - Daily Routine</title>
    <link rel="stylesheet" href="css/style.css">
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600;800&display=swap"
        rel="stylesheet">
    <style>
        .day-selector {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 1.5rem;
        }

        .day-btn {
            padding: 0.5rem 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: var(--radius-sm);
            font-family: var(--font-mono);
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }

        .day-btn:hover {
            border-color: var(--accent-green);
            color: var(--accent-green);
        }

        .day-btn.active {
            background: var(--accent-green);
            color: var(--bg-primary);
            border-color: var(--accent-green);
        }

        .day-btn.weekend {
            border-color: var(--accent-purple);
        }

        .day-btn.weekend.active {
            background: var(--accent-purple);
        }

        .routine-item.critical {
            border-left: 4px solid var(--accent-green);
            background: rgba(0, 255, 65, 0.05);
        }

        .routine-item.warning {
            border-left: 4px solid var(--accent-yellow);
            background: rgba(252, 238, 10, 0.05);
        }

        .routine-item.special {
            border-left: 4px solid var(--accent-purple);
            background: rgba(157, 0, 255, 0.05);
        }

        .sunday-warning {
            background: rgba(255, 0, 60, 0.1);
            border: 2px solid var(--accent-red);
            padding: 1rem;
            border-radius: var(--radius-md);
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .current-time-indicator {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            background: var(--bg-card);
            border: 1px solid var(--accent-green);
            padding: 0.5rem 1rem;
            border-radius: var(--radius-md);
            font-family: var(--font-mono);
            font-size: 0.85rem;
            z-index: 100;
        }

        .diet-section {
            margin-top: 1.5rem;
        }

        .diet-item {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem;
            border-bottom: 1px solid var(--border-color);
        }

        .diet-item:last-child {
            border-bottom: none;
        }

        .meal-type {
            color: var(--text-secondary);
            font-family: var(--font-mono);
            font-size: 0.85rem;
        }

        .meal-name {
            color: var(--text-primary);
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="header-content">
            <a href="dashboard.html" class="header-brand">// PROTOCOL: REBOOT</a>
            <nav class="header-nav">
                <a href="dashboard.html">Dashboard</a>
                <a href="routine.html" class="active">Routine</a>
                <a href="checklist.html">Checklist</a>
                <a href="learning.html">Learning</a>
                <a href="movies.html">Movies</a>
                <a href="progress.html">Progress</a>
            </nav>
            <div class="header-stats">
                <div class="stat-box">
                    <div class="stat-label">Day</div>
                    <div class="stat-value success" id="day-display">1</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Streak</div>
                    <div class="stat-value success" id="streak-display">0</div>
                </div>
            </div>
        </div>
    </header>

    <main class="container" style="padding-top: 2rem; padding-bottom: 4rem;">
        <!-- Title Card -->
        <div class="card mb-lg text-center">
            <h2 id="routine-title" class="text-green">LOADING...</h2>
            <p id="day-note" class="text-yellow mt-sm" style="font-size: 1.1rem;"></p>
            <p id="date-display" class="text-muted mt-sm"></p>
        </div>

        <!-- Day Selector -->
        <div class="day-selector">
            <button class="day-btn" data-day="1">Mon</button>
            <button class="day-btn" data-day="2">Tue</button>
            <button class="day-btn" data-day="3">Wed</button>
            <button class="day-btn" data-day="4">Thu</button>
            <button class="day-btn" data-day="5">Fri</button>
            <button class="day-btn weekend" data-day="6">Sat [M]</button>
            <button class="day-btn weekend" data-day="0">Sun [!]</button>
        </div>

        <!-- Sunday Warning (if applicable) -->
        <div id="sunday-warning" class="sunday-warning hidden">
            <strong class="text-red">[!] SUNDAY = STRICT DISCIPLINE!</strong><br>
            No movies, no entertainment. Kal se office hai, tayyar raho!
        </div>

        <!-- Routine Sections -->
        <div id="routine-container"></div>

        <!-- Diet Section -->
        <div class="card card-accent-blue mt-xl">
            <div class="card-header">[*] TODAY'S DIET</div>
            <div id="diet-content" class="diet-section"></div>
        </div>

        <!-- Anti-Craving Tips -->
        <div class="card card-accent-yellow mt-xl" id="tips-section">
            <div class="card-header">[*] ANTI-CRAVING TIPS</div>
            <ul id="craving-tips" style="padding-left: 1.5rem; line-height: 2;"></ul>
        </div>
    </main>

    <!-- Clock Widget -->
    <div class="clock-widget">
        <div class="clock-time" id="clock-time">--:--:--</div>
        <div class="clock-date" id="clock-date">Loading...</div>
    </div>

    <div id="toast-container" class="toast-container"></div>

    <script src="data/routine-data.js"></script>
    <script src="js/script.js"></script>
    <script>
        checkLogin();

        let viewingDay = 1;
        let currentDayOfWeek = new Date().getDay();

        function initRoutine() {
            const appData = JSON.parse(localStorage.getItem('appData'));
            viewingDay = appData.currentDay;

            document.getElementById('day-display').textContent = appData.currentDay;
            document.getElementById('streak-display').textContent = appData.streak;

            loadDayRoutine(viewingDay, currentDayOfWeek);
            updateCurrentTime();
        }

        function loadDayRoutine(day, dayOfWeek) {
            const appData = JSON.parse(localStorage.getItem('appData'));

            // Update day selector
            document.querySelectorAll('.day-btn').forEach(btn => {
                btn.classList.remove('active');
                if (parseInt(btn.dataset.day) === dayOfWeek) {
                    btn.classList.add('active');
                }
            });

            // Sunday warning
            if (dayOfWeek === 0) {
                document.getElementById('sunday-warning').classList.remove('hidden');
            } else {
                document.getElementById('sunday-warning').classList.add('hidden');
            }

            // Get day name
            const dayNames = ['SUNDAY', 'MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY'];
            document.getElementById('routine-title').textContent = `${dayNames[dayOfWeek]} - DAY ${day}`;

            // Day note
            const notes = {
                1: "NAYA JANAM! Aaj se naya tu.",
                7: "1 WEEK COMPLETE!",
                14: "2 WEEKS! Strong ho raha hai!",
                30: "1 MONTH CLEAN!",
                45: "PYTHON COMPLETE!",
                60: "60 DAYS! LEGEND!"
            };
            document.getElementById('day-note').textContent = notes[day] || `Day ${day} - Stay focused!`;

            // Routine type
            const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;
            const isFriday = dayOfWeek === 5;
            const isSaturday = dayOfWeek === 6;

            document.getElementById('date-display').textContent = isWeekend ? 'WEEKEND ROUTINE' : 'WEEKDAY ROUTINE';

            // Generate routine
            let routineHTML = '';

            if (!isWeekend) {
                // Weekday routine
                routineHTML = `
                    <div class="routine-section">
                        <h3 class="routine-section-title">[*] MORNING ROUTINE</h3>
                        <div class="routine-item">
                            <div class="routine-time">05:30</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Uthna + Paani Peena</div>
                                <div class="routine-task-tip">Alarm se pehle uth jao</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">06:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Puja / Path / Meditation</div>
                                <div class="routine-task-tip">15-20 min dhyan</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">06:30</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Exercise / Walk / Yoga</div>
                                <div class="routine-task-tip">30 min body move karo</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">07:30</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Healthy Naashta</div>
                                <div class="routine-task-tip">Poha, Upma, Oats - NO junk</div>
                            </div>
                        </div>
                        <div class="routine-item critical">
                            <div class="routine-time">08:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">[!] STREAK CHECK-IN [!]</div>
                                <div class="routine-task-tip">8:00-8:30 ke beech click karo!</div>
                            </div>
                        </div>
                    </div>

                    <div class="routine-section">
                        <h3 class="routine-section-title">[*] OFFICE HOURS (9 AM - 8 PM)</h3>
                        <div class="routine-item">
                            <div class="routine-time">09:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Office Start - Deep Work</div>
                                <div class="routine-task-tip">Phone silent, focus mode ON</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">11:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Short Break (10 min)</div>
                                <div class="routine-task-tip">Paani piyo, walk karo</div>
                            </div>
                        </div>
                        <div class="routine-item warning">
                            <div class="routine-time">14:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">[!] LUNCH BREAK - DANGER ZONE</div>
                                <div class="routine-task-tip">Craving peak hogi - paani piyo!</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">15:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Work Block 3</div>
                                <div class="routine-task-tip">Meetings, calls, emails</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">17:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Chai Break (15 min)</div>
                                <div class="routine-task-tip">Chai piyo - NO smoking!</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">20:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Office se Niklo</div>
                                <div class="routine-task-tip">Ab relax time shuru</div>
                            </div>
                        </div>
                    </div>

                    <div class="routine-section">
                        <h3 class="routine-section-title">[*] EVENING ROUTINE</h3>
                        <div class="routine-item">
                            <div class="routine-time">20:30</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Dinner (Light)</div>
                                <div class="routine-task-tip">Jaldi khao, halka khao</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">21:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">STUDY TIME (45 min)</div>
                                <div class="routine-task-tip">${day <= 45 ? 'Python' : 'GenAI'} - Focused learning</div>
                            </div>
                        </div>
                        <div class="routine-item critical">
                            <div class="routine-time">22:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">[!] NIGHT CHECKLIST [!]</div>
                                <div class="routine-task-tip">10-11 PM ke beech submit karo!</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">23:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Sleep</div>
                                <div class="routine-task-tip">7-8 ghante ki neend zaroori</div>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                // Weekend routine
                routineHTML = `
                    <div class="routine-section">
                        <h3 class="routine-section-title">[*] MORNING ROUTINE</h3>
                        <div class="routine-item">
                            <div class="routine-time">07:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Uthna (Weekend Rest)</div>
                                <div class="routine-task-tip">Weekend hai, aaram se utho</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">07:30</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Puja / Path / Meditation</div>
                                <div class="routine-task-tip">Weekend pe lamba dhyan - 30 min</div>
                            </div>
                        </div>
                        <div class="routine-item critical">
                            <div class="routine-time">08:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">[!] STREAK CHECK-IN [!]</div>
                                <div class="routine-task-tip">Weekend pe bhi miss mat karo!</div>
                            </div>
                        </div>
                    </div>

                    <div class="routine-section">
                        <h3 class="routine-section-title">[*] STUDY + FREE TIME</h3>
                        <div class="routine-item">
                            <div class="routine-time">09:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">DEEP STUDY SESSION (2-3 hrs)</div>
                                <div class="routine-task-tip">${day <= 45 ? 'Python' : 'GenAI'} - Weekend pe intense learning!</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">14:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Lunch</div>
                                <div class="routine-task-tip">Ghar ka khaana, family ke saath</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">15:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Rest / Power Nap</div>
                                <div class="routine-task-tip">30-45 min nap allowed</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">16:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Free Time / Hobbies</div>
                                <div class="routine-task-tip">Kuch creative karo</div>
                            </div>
                        </div>
                    </div>

                    <div class="routine-section">
                        <h3 class="routine-section-title">[*] EVENING ROUTINE</h3>
                        ${isSaturday ? `
                        <div class="routine-item special">
                            <div class="routine-time">20:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">MOVIE TIME ALLOWED</div>
                                <div class="routine-task-tip">Approved Sci-Fi/Motivational movie</div>
                            </div>
                        </div>
                        ` : `
                        <div class="routine-item warning">
                            <div class="routine-time">--:--</div>
                            <div class="routine-task">
                                <div class="routine-task-name">[!] NO MOVIES TODAY</div>
                                <div class="routine-task-tip">Kal se office - discipline mode!</div>
                            </div>
                        </div>
                        `}
                        <div class="routine-item critical">
                            <div class="routine-time">22:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">[!] NIGHT CHECKLIST [!]</div>
                                <div class="routine-task-tip">Weekend pe bhi submit karo!</div>
                            </div>
                        </div>
                        <div class="routine-item">
                            <div class="routine-time">23:00</div>
                            <div class="routine-task">
                                <div class="routine-task-name">Sleep</div>
                                <div class="routine-task-tip">${dayOfWeek === 0 ? 'Jaldi so - kal office!' : 'Late night allowed on Saturday'}</div>
                            </div>
                        </div>
                    </div>
                `;
            }

            document.getElementById('routine-container').innerHTML = routineHTML;

            // Diet section
            loadDietSection(dayOfWeek);

            // Anti-craving tips
            loadAntiCravingTips();
        }

        function loadDietSection(dayOfWeek) {
            const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
            const dayName = days[dayOfWeek];

            const menu = {
                monday: { lunch: "Roti + Seasonal Sabzi (Aloo)", dinner: "Roti + Dal + Sabzi" },
                tuesday: { lunch: "Chawal + Kadhi/Dal + Sabzi", dinner: "Roti + Sabzi" },
                wednesday: { lunch: "Roti + Seasonal Sabzi (Aloo)", dinner: "Chawal + Dal + Sabzi" },
                thursday: { lunch: "Chawal + Rajma/Chole", dinner: "Roti + Seasonal Sabzi" },
                friday: { lunch: "Roti + Paneer/Sabzi", dinner: "Roti + Dal + Aloo Sabzi" },
                saturday: { lunch: "Puri + Aloo Sabzi + Halwa", dinner: "Chawal + Dal + Sabzi" },
                sunday: { lunch: "Roti/Puri + Special Sabzi", dinner: "Light - Khichdi/Daliya" }
            };

            const todayMenu = menu[dayName];

            document.getElementById('diet-content').innerHTML = `
                <div class="diet-item">
                    <span class="meal-type">[LUNCH]</span>
                    <span class="meal-name">${todayMenu.lunch}</span>
                </div>
                <div class="diet-item">
                    <span class="meal-type">[DINNER]</span>
                    <span class="meal-name">${todayMenu.dinner}</span>
                </div>
                <div class="diet-item">
                    <span class="meal-type">[TIP]</span>
                    <span class="meal-name text-yellow">Ghar ka fresh khaana khao. Junk avoid karo.</span>
                </div>
            `;
        }

        function loadAntiCravingTips() {
            const tips = [
                "Jab craving aaye -> Paani ya nimbu paani piyo",
                "Deep breathing karo -> 4-7-8 technique",
                "Jagah badlo -> Walk karo, bahar jao",
                "Kisi se baat karo -> Friend, family ko call karo",
                "Goal yaad karo -> Tu kiske liye ye kar raha hai?",
                "Family ka chehra yaad karo -> Unhe proud banana hai",
                "5 min rule -> Sirf 5 min ruk, craving pass ho jayegi",
                "Thanda paani peena -> Craving ko physically break karta hai"
            ];

            document.getElementById('craving-tips').innerHTML = tips.map(tip =>
                `<li style="margin-bottom: 0.5rem;">${tip}</li>`
            ).join('');
        }

        function updateCurrentTime() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const mins = String(now.getMinutes()).padStart(2, '0');
            const secs = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('clock-time').textContent = `${hours}:${mins}:${secs}`;

            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            document.getElementById('clock-date').textContent = `${days[now.getDay()]}, ${now.getDate()} ${months[now.getMonth()]}`;
        }

        // Day selector click handlers
        document.querySelectorAll('.day-btn').forEach(btn => {
            btn.addEventListener('click', function () {
                const day = parseInt(this.dataset.day);
                currentDayOfWeek = day;
                loadDayRoutine(viewingDay, day);
            });
        });

        // Update time every second
        setInterval(updateCurrentTime, 1000);

        // Initialize
        initRoutine();
    </script>
</body>

</html>